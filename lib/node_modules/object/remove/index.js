module.exports = set;
var u,
    toPath = require('to/path'),
    isArray = require('is/array'),
    forEachEnd = require('array/base/for-each-end'),
    isNil = require('is/nil'),
    isSettable = require('is/settable');

function set(target_, path) {
    var p, length, target = target_;
    if (!target) {
        return u;
    }
    p = isArray(path) ? path : toPath(path);
    length = p.length;
    if (length > 1) {
        return forEachEnd(p, function traverser(key, index, list) {
            if (isNil(target)) {
                return true;
            } else if (index < list.length - 1) {
                target = target[key];
            } else if (isSettable(target)) {
                return delete target[key];
            }
        });
    } else if (length && isSettable(target)) {
        return delete target[p[0]];
    } else {
        return false;
    }
}