var defaultTo1 = require('default-to/1');
var flattens = require('array/flatten/worker');
var isArrayLike = require('is/array-like');
module.exports = flattenDepth;

function flattenDepth(list, depth_) {
    var depth = defaultTo1(depth_);
    if (depth <= 0) {
        return list;
    }
    return flattens(list, isArrayLike, function (item) {
        return flattenDepth(item, --depth);
    });
}