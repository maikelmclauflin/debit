var isStrictlyEqual = require('is/strictly-equal');
var forEachEndRight = require('array/base/for-each-end-right');
var bindWith = require('function/bind-with');
var isArrayLike = require('is/array-like');
var reduce = require('array/reduce');
module.exports = require('function/convert-second-to-iterable')(uniqueWith);

function uniqueWith(list, comparator) {
    return reduce(list, function uniqueChecker(memo, a, index, list) {
        if (isStrictlyEqual(forEachEndRight(memo, function (b) {
                return comparator(a, b);
            }), -1)) {
            memo.push(a);
        }
    }, []);
}